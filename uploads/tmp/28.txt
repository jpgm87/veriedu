<?php 
 
class Casa { 
    public $numero; 
    public $color; 
    public $habitantes; 
 
    public function __construct($numero, $color, $habitantes) { 
        $this->numero = $numero; 
        $this->color = $color; 
        $this->habitantes = $habitantes; 
    } 
 
    public function __toString() { 
        return "Casa N°{$this->numero}, Color: {$this->color}, Habitantes: {$this-
>habitantes}"; 
    } 
} 
 
class Calle { 
    public $nombre; 
    public $casas = []; 
 
    public function __construct($nombre) { 
        $this->nombre = $nombre; 
    } 
 
    public function agregarCasa(Casa $casa) {

$this->casas[] = $casa; 
    } 
 
    public function __toString() { 
        return "Calle {$this->nombre} con " . count($this->casas) . " casas"; 
    } 
} 
 
class Poblacion { 
    public $nombre; 
    public $calles = []; 
 
    public function __construct($nombre) { 
        $this->nombre = $nombre; 
    } 
 
    public function agregarCalle(Calle $calle) { 
        $this->calles[] = $calle; 
    } 
 
    public function __toString() { 
        return "Población {$this->nombre} con " . count($this->calles) . " calles"; 
    } 
} 
 
class Ciudad { 
    public $nombre; 
    public $poblaciones = [];

public function __construct($nombre) { 
        $this->nombre = $nombre; 
    } 
 
    public function agregarPoblacion(Poblacion $poblacion) { 
        $this->poblaciones[] = $poblacion; 
    } 
 
    public function mostrarCiudad() { 
        echo "Ciudad: {$this->nombre}\n"; 
        foreach ($this->poblaciones as $poblacion) { 
            echo "  {$poblacion}\n"; 
            foreach ($poblacion->calles as $calle) { 
                echo "    {$calle}\n"; 
                foreach ($calle->casas as $casa) { 
                    echo "      {$casa}\n"; 
                } 
            } 
        } 
    } 
} 
 
// Ejemplo de uso 
 
$ciudad = new Ciudad("Ciudad PHP"); 
 
$centro = new Poblacion("Centro");

$sur = new Poblacion("Sur"); 
 
$primavera = new Calle("Primavera"); 
$otono = new Calle("Otoño"); 
 
$casa1 = new Casa(101, "Rojo", 4); 
$casa2 = new Casa(102, "Azul", 3); 
$casa3 = new Casa(201, "Verde", 5); 
 
$primavera->agregarCasa($casa1); 
$primavera->agregarCasa($casa2); 
$otono->agregarCasa($casa3); 
 
$centro->agregarCalle($primavera); 
$sur->agregarCalle($otono); 
 
$ciudad->agregarPoblacion($centro); 
$ciudad->agregarPoblacion($sur); 
 
$ciudad->mostrarCiudad(); 
 
?>